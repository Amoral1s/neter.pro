jQuery(document).ready((function(a){a(".view-switcher").on("click","button",(function(){a(".catalog-main .wrap .right").addClass("loading");var t=a(this).data("view"),e=a(this);a.ajax({url:ajaxurl,type:"POST",data:{action:"update_product_view",view:t},success:function(i){"success"===i&&(a(".catalog-main .wrap .right ul.products").removeClass("grid list carousel").addClass(t),localStorage.setItem("product_view",t),a(".catalog-main .wrap .right").removeClass("loading"),a(".view-switcher button").removeClass("active"),e.addClass("active"))}})}));var t=localStorage.getItem("product_view");if(t&&a('.view-switcher button[data-view="'+t+'"]').length){var e=a('.view-switcher button[data-view="'+t+'"]');a(".catalog-main .wrap .right ul.products").addClass(t),a(".view-switcher button").removeClass("active"),e.addClass("active")}}));